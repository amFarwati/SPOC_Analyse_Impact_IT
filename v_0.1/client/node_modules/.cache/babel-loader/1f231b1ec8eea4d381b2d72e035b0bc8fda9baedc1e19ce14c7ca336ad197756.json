{"ast":null,"code":"'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\nconst loadStore = opts => {\n  const adapters = {\n    redis: '@keyv/redis',\n    mongodb: '@keyv/mongo',\n    mongo: '@keyv/mongo',\n    sqlite: '@keyv/sqlite',\n    postgresql: '@keyv/postgres',\n    postgres: '@keyv/postgres',\n    mysql: '@keyv/mysql'\n  };\n  if (opts.adapter || opts.uri) {\n    const adapter = opts.adapter || /^[^:]*/.exec(opts.uri)[0];\n    return new (require(adapters[adapter]))(opts);\n  }\n  return new Map();\n};\nclass Keyv extends EventEmitter {\n  constructor(uri, opts) {\n    super();\n    this.opts = Object.assign({\n      namespace: 'keyv',\n      serialize: JSONB.stringify,\n      deserialize: JSONB.parse\n    }, typeof uri === 'string' ? {\n      uri\n    } : uri, opts);\n    if (!this.opts.store) {\n      const adapterOpts = Object.assign({}, this.opts);\n      this.opts.store = loadStore(adapterOpts);\n    }\n    if (typeof this.opts.store.on === 'function') {\n      this.opts.store.on('error', err => this.emit('error', err));\n    }\n    this.opts.store.namespace = this.opts.namespace;\n  }\n  _getKeyPrefix(key) {\n    return `${this.opts.namespace}:${key}`;\n  }\n  get(key) {\n    key = this._getKeyPrefix(key);\n    const store = this.opts.store;\n    return Promise.resolve().then(() => store.get(key)).then(data => {\n      data = typeof data === 'string' ? this.opts.deserialize(data) : data;\n      if (data === undefined) {\n        return undefined;\n      }\n      if (typeof data.expires === 'number' && Date.now() > data.expires) {\n        this.delete(key);\n        return undefined;\n      }\n      return data.value;\n    });\n  }\n  set(key, value, ttl) {\n    key = this._getKeyPrefix(key);\n    if (typeof ttl === 'undefined') {\n      ttl = this.opts.ttl;\n    }\n    if (ttl === 0) {\n      ttl = undefined;\n    }\n    const store = this.opts.store;\n    return Promise.resolve().then(() => {\n      const expires = typeof ttl === 'number' ? Date.now() + ttl : null;\n      value = {\n        value,\n        expires\n      };\n      return store.set(key, this.opts.serialize(value), ttl);\n    }).then(() => true);\n  }\n  delete(key) {\n    key = this._getKeyPrefix(key);\n    const store = this.opts.store;\n    return Promise.resolve().then(() => store.delete(key));\n  }\n  clear() {\n    const store = this.opts.store;\n    return Promise.resolve().then(() => store.clear());\n  }\n}\nmodule.exports = Keyv;","map":{"version":3,"names":["EventEmitter","require","JSONB","loadStore","opts","adapters","redis","mongodb","mongo","sqlite","postgresql","postgres","mysql","adapter","uri","exec","Map","Keyv","constructor","Object","assign","namespace","serialize","stringify","deserialize","parse","store","adapterOpts","on","err","emit","_getKeyPrefix","key","get","Promise","resolve","then","data","undefined","expires","Date","now","delete","value","set","ttl","clear","module","exports"],"sources":["/home/amfarwati/Documents/SPOC_Analyse_Impact_IT/v_0.1/client/node_modules/cacheable-request/node_modules/keyv/src/index.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\n\nconst loadStore = opts => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql'\n\t};\n\tif (opts.adapter || opts.uri) {\n\t\tconst adapter = opts.adapter || /^[^:]*/.exec(opts.uri)[0];\n\t\treturn new (require(adapters[adapter]))(opts);\n\t}\n\treturn new Map();\n};\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, opts) {\n\t\tsuper();\n\t\tthis.opts = Object.assign(\n\t\t\t{\n\t\t\t\tnamespace: 'keyv',\n\t\t\t\tserialize: JSONB.stringify,\n\t\t\t\tdeserialize: JSONB.parse\n\t\t\t},\n\t\t\t(typeof uri === 'string') ? { uri } : uri,\n\t\t\topts\n\t\t);\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOpts = Object.assign({}, this.opts);\n\t\t\tthis.opts.store = loadStore(adapterOpts);\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function') {\n\t\t\tthis.opts.store.on('error', err => this.emit('error', err));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\tget(key) {\n\t\tkey = this._getKeyPrefix(key);\n\t\tconst store = this.opts.store;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.get(key))\n\t\t\t.then(data => {\n\t\t\t\tdata = (typeof data === 'string') ? this.opts.deserialize(data) : data;\n\t\t\t\tif (data === undefined) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\tthis.delete(key);\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\treturn data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tkey = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\t\tconst store = this.opts.store;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tvalue = { value, expires };\n\t\t\t\treturn store.set(key, this.opts.serialize(value), ttl);\n\t\t\t})\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tkey = this._getKeyPrefix(key);\n\t\tconst store = this.opts.store;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(key));\n\t}\n\n\tclear() {\n\t\tconst store = this.opts.store;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n}\n\nmodule.exports = Keyv;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}