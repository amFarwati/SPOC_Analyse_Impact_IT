{"ast":null,"code":"'use strict';\n\nconst pump = require('pump');\nconst bufferStream = require('./buffer-stream');\nclass MaxBufferError extends Error {\n  constructor() {\n    super('maxBuffer exceeded');\n    this.name = 'MaxBufferError';\n  }\n}\nfunction getStream(inputStream, options) {\n  if (!inputStream) {\n    return Promise.reject(new Error('Expected a stream'));\n  }\n  options = Object.assign({\n    maxBuffer: Infinity\n  }, options);\n  const {\n    maxBuffer\n  } = options;\n  let stream;\n  return new Promise((resolve, reject) => {\n    const rejectPromise = error => {\n      if (error) {\n        // A null check\n        error.bufferedData = stream.getBufferedValue();\n      }\n      reject(error);\n    };\n    stream = pump(inputStream, bufferStream(options), error => {\n      if (error) {\n        rejectPromise(error);\n        return;\n      }\n      resolve();\n    });\n    stream.on('data', () => {\n      if (stream.getBufferedLength() > maxBuffer) {\n        rejectPromise(new MaxBufferError());\n      }\n    });\n  }).then(() => stream.getBufferedValue());\n}\nmodule.exports = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, Object.assign({}, options, {\n  encoding: 'buffer'\n}));\nmodule.exports.array = (stream, options) => getStream(stream, Object.assign({}, options, {\n  array: true\n}));\nmodule.exports.MaxBufferError = MaxBufferError;","map":{"version":3,"names":["pump","require","bufferStream","MaxBufferError","Error","constructor","name","getStream","inputStream","options","Promise","reject","Object","assign","maxBuffer","Infinity","stream","resolve","rejectPromise","error","bufferedData","getBufferedValue","on","getBufferedLength","then","module","exports","buffer","encoding","array"],"sources":["/home/amfarwati/Documents/SPOC_Analyse_Impact_IT/v_0.1/client/node_modules/got/node_modules/get-stream/index.js"],"sourcesContent":["'use strict';\nconst pump = require('pump');\nconst bufferStream = require('./buffer-stream');\n\nclass MaxBufferError extends Error {\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t\tthis.name = 'MaxBufferError';\n\t}\n}\n\nfunction getStream(inputStream, options) {\n\tif (!inputStream) {\n\t\treturn Promise.reject(new Error('Expected a stream'));\n\t}\n\n\toptions = Object.assign({maxBuffer: Infinity}, options);\n\n\tconst {maxBuffer} = options;\n\n\tlet stream;\n\treturn new Promise((resolve, reject) => {\n\t\tconst rejectPromise = error => {\n\t\t\tif (error) { // A null check\n\t\t\t\terror.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\t\t\treject(error);\n\t\t};\n\n\t\tstream = pump(inputStream, bufferStream(options), error => {\n\t\t\tif (error) {\n\t\t\t\trejectPromise(error);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolve();\n\t\t});\n\n\t\tstream.on('data', () => {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\trejectPromise(new MaxBufferError());\n\t\t\t}\n\t\t});\n\t}).then(() => stream.getBufferedValue());\n}\n\nmodule.exports = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, Object.assign({}, options, {encoding: 'buffer'}));\nmodule.exports.array = (stream, options) => getStream(stream, Object.assign({}, options, {array: true}));\nmodule.exports.MaxBufferError = MaxBufferError;\n"],"mappings":"AAAA,YAAY;;AACZ,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMC,YAAY,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAE/C,MAAME,cAAc,SAASC,KAAK,CAAC;EAClCC,WAAWA,CAAA,EAAG;IACb,KAAK,CAAC,oBAAoB,CAAC;IAC3B,IAAI,CAACC,IAAI,GAAG,gBAAgB;EAC7B;AACD;AAEA,SAASC,SAASA,CAACC,WAAW,EAAEC,OAAO,EAAE;EACxC,IAAI,CAACD,WAAW,EAAE;IACjB,OAAOE,OAAO,CAACC,MAAM,CAAC,IAAIP,KAAK,CAAC,mBAAmB,CAAC,CAAC;EACtD;EAEAK,OAAO,GAAGG,MAAM,CAACC,MAAM,CAAC;IAACC,SAAS,EAAEC;EAAQ,CAAC,EAAEN,OAAO,CAAC;EAEvD,MAAM;IAACK;EAAS,CAAC,GAAGL,OAAO;EAE3B,IAAIO,MAAM;EACV,OAAO,IAAIN,OAAO,CAAC,CAACO,OAAO,EAAEN,MAAM,KAAK;IACvC,MAAMO,aAAa,GAAGC,KAAK,IAAI;MAC9B,IAAIA,KAAK,EAAE;QAAE;QACZA,KAAK,CAACC,YAAY,GAAGJ,MAAM,CAACK,gBAAgB,CAAC,CAAC;MAC/C;MACAV,MAAM,CAACQ,KAAK,CAAC;IACd,CAAC;IAEDH,MAAM,GAAGhB,IAAI,CAACQ,WAAW,EAAEN,YAAY,CAACO,OAAO,CAAC,EAAEU,KAAK,IAAI;MAC1D,IAAIA,KAAK,EAAE;QACVD,aAAa,CAACC,KAAK,CAAC;QACpB;MACD;MAEAF,OAAO,CAAC,CAAC;IACV,CAAC,CAAC;IAEFD,MAAM,CAACM,EAAE,CAAC,MAAM,EAAE,MAAM;MACvB,IAAIN,MAAM,CAACO,iBAAiB,CAAC,CAAC,GAAGT,SAAS,EAAE;QAC3CI,aAAa,CAAC,IAAIf,cAAc,CAAC,CAAC,CAAC;MACpC;IACD,CAAC,CAAC;EACH,CAAC,CAAC,CAACqB,IAAI,CAAC,MAAMR,MAAM,CAACK,gBAAgB,CAAC,CAAC,CAAC;AACzC;AAEAI,MAAM,CAACC,OAAO,GAAGnB,SAAS;AAC1BkB,MAAM,CAACC,OAAO,CAACC,MAAM,GAAG,CAACX,MAAM,EAAEP,OAAO,KAAKF,SAAS,CAACS,MAAM,EAAEJ,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEJ,OAAO,EAAE;EAACmB,QAAQ,EAAE;AAAQ,CAAC,CAAC,CAAC;AAChHH,MAAM,CAACC,OAAO,CAACG,KAAK,GAAG,CAACb,MAAM,EAAEP,OAAO,KAAKF,SAAS,CAACS,MAAM,EAAEJ,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEJ,OAAO,EAAE;EAACoB,KAAK,EAAE;AAAI,CAAC,CAAC,CAAC;AACxGJ,MAAM,CAACC,OAAO,CAACvB,cAAc,GAAGA,cAAc"},"metadata":{},"sourceType":"script","externalDependencies":[]}